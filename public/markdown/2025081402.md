# git常用指令

- ## 基础操作

#### 初始化 & 克隆

在网上找到要克隆的仓库，复制克隆网址，输入以下代码

```bash
   git init                  # 初始化本地仓库
   git clone <仓库URL>       # 克隆远程仓库
```

#### 提交更改

```bash
   git status               # 查看文件状态
   git add <文件名>         # 添加单个文件到暂存区
   git add .                # 添加所有更改到暂存区
   git commit -m "描述"     # 提交更改到本地仓库
   git commit --amend       # 修改最后一次提交（未推送时）
```

#### 查看历史

```bash
   git log                  # 查看提交历史
   git log --oneline        # 简洁版提交历史
   git show <commit-id>     # 查看某次提交的详情
```

- ## 分支操作

```bash
   git branch               # 查看本地分支
   git branch <分支名>      # 创建新分支
   git checkout <分支名>    # 切换分支
   git checkout -b <分支名> # 创建并切换到新分支
   git merge <分支名>       # 合并指定分支到当前分支
   git branch -d <分支名>   # 删除本地分支（已合并）
   git branch -D <分支名>   # 强制删除本地分支（未合并）
```

#### 远程分支

```bash
   git fetch                # 拉取远程分支信息（不自动合并）
   git pull                 # 拉取远程分支并合并（= fetch + merge）
   git push -u origin <分支名> # 推送本地分支到远程并关联
   git push origin --delete <分支名> # 删除远程分支
```

- ## 撤销与回退

#### 撤销工作区修改

```bash
   git restore <文件名>     # 撤销工作区的修改（未 add）
   git restore --staged <文件名> # 撤销暂存区的修改（已 add）
```

#### 回退提交

```bash
   git reset --soft <commit-id>  # 回退提交但保留更改到暂存区
   git reset --hard <commit-id>  # 彻底回退到指定提交（慎用！）
   git revert <commit-id>        # 生成一个新提交来撤销某次提交（安全）
```

- ## 远程仓库

#### 关联与推送

```bash
   git remote -v            # 查看远程仓库地址
   git remote add origin <URL> # 关联远程仓库
   git push origin <分支名>  # 推送到远程分支
   git push --force         # 强制推送（覆盖远程，慎用！）
```

#### 拉取更新

```bash
   git pull origin <分支名>  # 拉取远程分支>  # 拉取远程分支最新代码
   git fetch --prune        # 同步远程已删除的分支
```

